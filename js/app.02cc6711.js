(function(){"use strict";var e={4043:function(e,t,n){var o=n(9242),i=n(3396);const r=e=>((0,i.dD)("data-v-84abb14a"),e=e(),(0,i.Cn)(),e),s={class:"app"},a=r((()=>(0,i._)("iframe",{id:"myframe",src:"http://193.122.118.167:9133/",frameborder:"0",allowfullscreen:"true"},null,-1)));function u(e,t,n,o,r,u){const c=(0,i.up)("HighlighTable");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(c),a])}var c=n(7139);const d=e=>((0,i.dD)("data-v-afd42af2"),e=e(),(0,i.Cn)(),e),h=d((()=>(0,i._)("div",{id:"hlsss"},null,-1)));function l(e,t,n,r,s,a){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.wy)((0,i._)("div",{class:"menu",style:(0,c.j5)({left:`${s.x}px`,top:`${s.y}px`}),onMousedown:t[2]||(t[2]=(0,o.iM)((()=>{}),["prevent"]))},[(0,i._)("span",{class:"item",onMousedown:t[0]||(t[0]=(0,o.iM)((e=>a.doHighliht()),["prevent"]))}," Highlight ",32),(0,i._)("span",{class:"item",onMousedown:t[1]||(t[1]=(0,o.iM)((e=>a.doTTS()),["prevent"]))}," TTS ",32)],36),[[o.F8,s.showMenu]]),h,(0,i.WI)(e.$slots,"default",{},void 0,!0)])}var f={data(){return{x:0,y:0,showMenu:!1,selectedText:"",childIframe:{}}},mounted(){window.addEventListener("message",this.receiveMsgFromIframe),this.childIframe=document.getElementById("myframe")},beforeUnmount(){},methods:{handleIframeLoad(){if(this.iframeLoaded=!0,this.iframeLoaded){const e=document.getElementById("myframe").contentWindow.document;e.addEventListener("mouseup",this.onMouseup)}},receiveMsgFromIframe(e){let t;try{t=JSON.parse(e.data)}catch(e){return}if("hide tool"!=t.instruction){if("show tool"==t.instruction){const e=document.getElementById("myframe").getBoundingClientRect(),n=window.pageYOffset+e.top,{x:o,y:i,width:r}=t.dragPosition;return this.x=o+r/2,this.y=i+n-10,this.selectedText=t.dragText,void(this.showMenu=!0)}this.showMenu=!1}else this.showMenu=!1},onMouseup(){const e=document.getElementById("myframe").contentDocument;if(this.showMenu)return this.showMenu=!1,void e.getSelection().removeAllRanges();const t=e.getSelection();if(t.isCollapsed)return this.showMenu=!1,void e.getSelection().removeAllRanges();const n=t.getRangeAt(0),{x:o,y:i,width:r}=n.getBoundingClientRect(),s=document.getElementById("myframe").getBoundingClientRect(),a=window.pageYOffset+s.top;r?(this.x=o+r/2,this.y=i+a-10,this.selectedText=t.toString(),this.showMenu=!0):this.showMenu=!1},doHighliht(){this.showMenu=!1,this.childIframe.contentWindow.postMessage("highlight","*")},doTTS(){if(""===this.selectedText)return;const e=window.speechSynthesis,t=new SpeechSynthesisUtterance(this.selectedText);t.lang="ko",t.volume=1,t.rate=1,t.pitch=1,e.speak(t),this.childIframe.contentWindow.postMessage("remove select","*"),this.showMenu=!1}}},m=n(89);const p=(0,m.Z)(f,[["render",l],["__scopeId","data-v-afd42af2"]]);var g=p,v={components:{HighlighTable:g},data(){return{xhtmlFilePath:"/textbooktest/common/html/math/type6.html"}}};const w=(0,m.Z)(v,[["render",u],["__scopeId","data-v-84abb14a"]]);var y=w;(0,o.ri)(y).mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,r){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],r=e[d][2];for(var a=!0,u=0;u<o.length;u++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(a=!1,r<s&&(s=r));if(a){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,s=o[0],a=o[1],u=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(u)var d=u(n)}for(t&&t(o);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4043)}));o=n.O(o)})();
//# sourceMappingURL=app.02cc6711.js.map